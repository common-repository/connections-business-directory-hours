jQuery(document).ready(function(a){function f(a){return a?"addClass":"removeClass"}var e={init:function(){this.clone();this.add();this.remove();this.reindex()},clone:function(b,d){clone=a("#cnbh-period").clone(!0);clone.find("input").each(function(){var c=a(this).attr("name");c=c.replace(/(\[day\]\[period\])/,"["+parseInt(b)+"]["+parseInt(d)+"]");a(this).attr("name",c).attr("id",c).addClass("cn-timepicker").timepicker(cnbhDateTimePickerOptions).prop("readonly",!0)});clone.find(".button").attr("data-day",
b).attr("data-period",d);clone.removeAttr("id").addClass("cnbh-day-"+b).toggle();return clone},add:function(){a(".cnbh-add-period").on("click",function(){day=a(this).attr("data-day");row=a(this).closest("tr");data=a("#cnbh-day-"+day).cnCount(1).data();row.after(e.clone(day,data.count));e.reindex(day)})},remove:function(){a(".cnbh-remove-period").on("click",function(){day=a(this).attr("data-day");row=a(this).closest("tr");data=a("#cnbh-day-"+day).cnCount(-1).data();row.remove();e.reindex(day)})},reindex:function(b){a(".cnbh-day-"+
b).each(function(d,c){a(c).find("input").each(function(){var c=a(this).attr("name");c=c.replace(/\[(\d+)\]\[(\d+)\]/,"["+parseInt(b)+"]["+parseInt(d)+"]");a(this).attr("name",c).attr("id",c)})})}};e.init();cnbhDateTimePickerOptions.onSelect=function(){a(this)[f(this.value)]("x")};a(".cn-timepicker").timepicker(cnbhDateTimePickerOptions).prop("readonly",!0);a(document).on("input",".cn-clearable",function(){a(this)[f(this.value)]("x")}).on("mousemove",".x",function(b){a(this)[f(this.offsetWidth-18<
b.clientX-this.getBoundingClientRect().left)]("onX")}).on("touchstart click",".onX",function(b){b.preventDefault();a(this).removeClass("x onX").val("").change()});a(".cn-timepicker.cn-clearable").trigger("input");a.fn.cnCount=function(b){return this.each(function(){var d=a(this).data();"count"in d||(d.count=0);d.count+=b})}});